<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskMaster</title>
  <link rel="stylesheet" href="popup.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome CDN -->
</head>
<body>

  <h2>TaskMaster</h2>
  <div id="message" style="display: none; color: red; font-weight: bold;"></div>
  <!-- Display logged-in username -->
  <div id="user-info" style="display: none;">
    <strong>Logged in as: <span id="username-display"></span></strong>
    <br/>
    <strong>Experience: <span id="experience_points-display"></span></strong>
  </div>
  </div>

  <!-- Login Section -->
  <div id="loginSection">
    <button id="login" aria-label="Login">
      <i class="fas fa-sign-in-alt"></i> Login
    </button>
    <button id="logout" style="display: none;" aria-label="Logout">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>
  </div>

  <!-- Add Sign Up Button -->
<button id="signup"><i class="fas fa-user-plus"></i> Sign Up</button>

<!-- Sign Up Form (Hidden initially) -->
<div id="signUpForm" style="display: none;">
  <input type="text" id="signup-username" placeholder="Enter username" required>
  <input type="email" id="signup-email" placeholder="Enter email" required>
  <input type="password" id="signup-password" placeholder="Enter password" required>
  <button id="submit-signup">Sign Up</button>
  <button id="cancel-signup">Cancel</button>
</div>

  <!-- Add Task Form -->
  <form id="add-task-form" aria-labelledby="add-task-form-heading">
    <h3 id="add-task-form-heading">Add New Task</h3>
    <input type="text" id="task-title" placeholder="Task Title" required aria-required="true">
    <textarea id="task-desc" placeholder="Task Description" required aria-required="true"></textarea>
    <input type="number" id="task-difficulty" placeholder="Difficulty (1-5)" min="1" max="5" required aria-required="true">
    <input type="number" id="task-duration" placeholder="Estimated Duration (minutes)" min="1" required aria-required="true">
    <button type="submit" id="submit-btn" aria-label="Add Task">
      <i class="fas fa-plus-circle"></i> Add Task
    </button>
  </form>

  <!-- Edit Task Form (Hidden initially) -->
  <form id="edit-task-form" style="display: none;">
    <input type="text" id="edit-task-title" placeholder="Task Title" required>
    <textarea id="edit-task-desc" placeholder="Task Description" required></textarea>
    <input type="number" id="edit-task-difficulty" placeholder="Difficulty (1-5)" min="1" max="5" required>
    <input type="number" id="edit-task-duration" placeholder="Estimated Duration (minutes)" min="1" required>
    <button type="submit" id="edit-submit-btn"><i class="fas fa-edit"></i> Update Task</button> <!-- Edit task button with icon -->
    <button type="button" id="cancel-edit-btn"><i class="fas fa-times-circle"></i> Cancel</button> <!-- Cancel edit button with icon -->
  </form>

  <!-- Task List -->
  <div id="taskList">Please login</div>
  <template id="task-template">
    <div class="task-item">
      <p>
        <strong class="task-title"></strong> - Difficulty: 
        <span class="difficulty"></span>
      </p>
      <p class="task-description"></p>
      <p class="task-duration"></p>
      <p>
        Status: <span class="task-status"></span>
      </p>
      <p class="task-user"></p>
      <div class="task-buttons">
        <button class="complete-btn">
          <i class="fas fa-check-circle"></i>
        </button>
        <button class="edit-btn">
          <i class="fas fa-edit"></i>
        </button>
        <button class="delete-btn">
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
    </div>
  </template>

  <!-- Loading tasks -->
  <div id="loading-message" style="display: none;">
    Loading tasks, please wait...
  </div>
  
  <script src="ui.js" defer></script>
  <script src="auth.js" defer></script>
  <script src="tasks.js" defer></script>
  <script src="popup.js" defer></script>
  <script src="signup.js" defer></script>
</body>
</html>
